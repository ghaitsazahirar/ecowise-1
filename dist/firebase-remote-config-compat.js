!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("@firebase/app-compat"),require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app-compat","@firebase/app"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).firebase,e.firebase.INTERNAL.modularAPIs)}(this,(function(e,t){"use strict";try{(function(){var r,a,i,s,n=(s=e)&&"object"==typeof s&&"default"in s?s:{default:s};function o(){try{return"object"==typeof indexedDB}catch(e){return}}class c extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,c.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,l.prototype.create)}}class l{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){var r,a=t[0]||{},i=`${this.service}/${e}`,s=(s=this.errors[e])?(r=a,s.replace(u,((e,t)=>{var a=r[t];return null!=a?String(a):`<${t}?>`}))):"Error";return s=`${this.serviceName}: ${s} (${i}).`,new c(i,s,a)}}const u=/\{\$([^}]+)}/g;function g(e){return e&&e._delegate?e._delegate:e}class h{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}(a=r=r||{})[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT";const d={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},f=r.INFO,p={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},m=(e,t,...r)=>{if(!(t<e.logLevel)){var a=(new Date).toISOString(),i=p[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${a}]  ${e.name}:`,...r)}};class v{constructor(e){this.name=e,this._logLevel=f,this._logHandler=m,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in r))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?d[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...e),this._logHandler(this,r.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...e),this._logHandler(this,r.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,r.INFO,...e),this._logHandler(this,r.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,r.WARN,...e),this._logHandler(this,r.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,r.ERROR,...e),this._logHandler(this,r.ERROR,...e)}}const w=(e,t)=>t.some((t=>e instanceof t));let _,y;const b=new WeakMap,S=new WeakMap,E=new WeakMap,C=new WeakMap,I=new WeakMap;let T={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return S.get(e);if("objectStoreNames"===t)return e.objectStoreNames||E.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return L(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function L(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,r)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(L(e.result)),a()},s=()=>{r(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&b.set(t,e)})).catch((()=>{})),I.set(t,e),t}(e);if(C.has(e))return C.get(e);var t=function(e){return"function"==typeof e?function(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(y=y||[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]).includes(e)?function(...t){return e.apply(M(this),t),L(b.get(this))}:function(...t){return L(e.apply(M(this),t))}:function(t,...r){var a=e.call(M(this),t,...r);return E.set(a,t.sort?t.sort():[t]),L(a)}}(e):(e instanceof IDBTransaction&&(t=e,S.has(t)||(r=new Promise(((e,r)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{e(),a()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)})),S.set(t,r))),w(e,_=_||[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])?new Proxy(e,T):e);var t,r}(e);return t!==e&&(C.set(e,t),I.set(t,e)),t}const M=e=>I.get(e),D=["get","getKey","getAll","getAllKeys","count"],F=["put","add","delete","clear"],P=new Map;function k(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t){if(P.get(t))return P.get(t);const e=t.replace(/FromIndex$/,""),a=t!==e,i=F.includes(e);if(e in(a?IDBIndex:IDBObjectStore).prototype&&(i||D.includes(e))){var r=async function(t,...r){var s=this.transaction(t,i?"readwrite":"readonly");let n=s.store;return a&&(n=n.index(r.shift())),(await Promise.all([n[e](...r),i&&s.done]))[0]};return P.set(t,r),r}}}T={...i=T,get:(e,t,r)=>k(e,t)||i.get(e,t,r),has:(e,t)=>!!k(e,t)||i.has(e,t)};var O="@firebase/installations",N="0.6.7";const j=1e4,A=`w:${N}`,R="FIS_v2",B="https://firebaseinstallations.googleapis.com/v1";var $;const H=new l("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function x(e){return e instanceof c&&e.code.includes("request-failed")}function V({projectId:e}){return`${B}/projects/${e}/installations`}function q(e){return{token:e.token,requestStatus:2,expiresIn:(e=e.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()}}async function K(e,t){var r=(await t.json()).error;return H.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function U({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function z(e){var t=await e();return 500<=t.status&&t.status<600?e():t}function G(e){return new Promise((t=>{setTimeout(t,e)}))}const W=/^[cdef][\w-]{21}$/,J="";function Y(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(e){const t=function(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e);return t.substr(0,22)}(t);return W.test(e)?e:J}catch(e){return J}}function Z(e){return`${e.appName}!${e.appId}`}const Q=new Map;function X(e,t){var r=Z(e);ee(r,t),function(e,t){const r=(!te&&"BroadcastChannel"in self&&(te=new BroadcastChannel("[Firebase] FID Change"),te.onmessage=e=>{ee(e.data.key,e.data.fid)}),te);r&&r.postMessage({key:e,fid:t}),0===Q.size&&te&&(te.close(),te=null)}(r,t)}function ee(e,t){var r=Q.get(e);if(r)for(const e of r)e(t)}let te=null;const re="firebase-installations-store";let ae=null;function ie(){return ae=ae||function(e,t,{blocked:r,upgrade:a,blocking:i,terminated:s}){const n=indexedDB.open(e,t),o=L(n);return a&&n.addEventListener("upgradeneeded",(e=>{a(L(n.result),e.oldVersion,e.newVersion,L(n.transaction),e)})),r&&n.addEventListener("blocked",(e=>r(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-installations-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(re)}}),ae}async function se(e,t){var r=Z(e);const a=(await ie()).transaction(re,"readwrite"),i=a.objectStore(re);var s=await i.get(r);return await i.put(t,r),await a.done,s&&s.fid===t.fid||X(e,t.fid),t}async function ne(e){var t=Z(e);const r=(await ie()).transaction(re,"readwrite");await r.objectStore(re).delete(t),await r.done}async function oe(e,t){var r=Z(e);const a=(await ie()).transaction(re,"readwrite"),i=a.objectStore(re);var s=await i.get(r),n=t(s);return void 0===n?await i.delete(r):await i.put(n,r),await a.done,!n||s&&s.fid===n.fid||X(e,n.fid),n}async function ce(e){let t;var r=await oe(e.appConfig,(r=>{var a=ue(r||{fid:Y(),registrationStatus:0});return a=function(e,t){if(0!==t.registrationStatus)return 1===t.registrationStatus?{installationEntry:t,registrationPromise:async function(e){let t=await le(e.appConfig);for(;1===t.registrationStatus;)await G(100),t=await le(e.appConfig);if(0!==t.registrationStatus)return t;var{installationEntry:r,registrationPromise:a}=await ce(e);return a||r}(e)}:{installationEntry:t};if(!navigator.onLine)return{installationEntry:t,registrationPromise:a=Promise.reject(H.create("app-offline"))};var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},a=async function(e,t){try{var r=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const a=V(e),i=U(e),s=t.getImmediate({optional:!0});!s||(n=await s.getHeartbeatsHeader())&&i.append("x-firebase-client",n);var n={fid:r,authVersion:R,appId:e.appId,sdkVersion:A};const o={method:"POST",headers:i,body:JSON.stringify(n)},c=await z((()=>fetch(a,o)));if(c.ok)return{fid:(n=await c.json()).fid||r,registrationStatus:2,refreshToken:n.refreshToken,authToken:q(n.authToken)};throw await K("Create Installation",c)}(e,t);return se(e.appConfig,r)}catch(r){throw x(r)&&409===r.customData.serverCode?await ne(e.appConfig):await se(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}(e,r);return{installationEntry:r,registrationPromise:a}}(e,a),t=a.registrationPromise,a.installationEntry}));return r.fid===J?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function le(e){return oe(e,(e=>{if(!e)throw H.create("installation-not-found");return ue(e)}))}function ue(e){return 1===(t=e).registrationStatus&&t.registrationTime+j<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function ge(e,t=!1){let r;var a=await oe(e.appConfig,(a=>{if(!de(a))throw H.create("not-registered");var i,s=a.authToken;if(t||2!==(i=s).requestStatus||function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(i)){if(1===s.requestStatus)return r=async function(e,t){let r=await he(e.appConfig);for(;1===r.authToken.requestStatus;)await G(100),r=await he(e.appConfig);var a=r.authToken;return 0===a.requestStatus?ge(e,t):a}(e,t),a;if(!navigator.onLine)throw H.create("app-offline");return i=a,s={requestStatus:1,requestTime:Date.now()},s=Object.assign(Object.assign({},i),{authToken:s}),r=async function(e,t){try{var r=await async function({appConfig:e,heartbeatServiceProvider:t},r){const a=([i,s]=[e,r.fid],`${V(i)}/${s}/authTokens:generate`);var i,s;const n=function(e,{refreshToken:t}){const r=U(e);return r.append("Authorization",`${R} ${t}`),r}(e,r),o=t.getImmediate({optional:!0});!o||(c=await o.getHeartbeatsHeader())&&n.append("x-firebase-client",c);var c={installation:{sdkVersion:A,appId:e.appId}};const l={method:"POST",headers:n,body:JSON.stringify(c)},u=await z((()=>fetch(a,l)));if(u.ok)return q(await u.json());throw await K("Generate Auth Token",u)}(e,t),a=Object.assign(Object.assign({},t),{authToken:r});return await se(e.appConfig,a),r}catch(a){throw!x(a)||401!==a.customData.serverCode&&404!==a.customData.serverCode?(r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}),await se(e.appConfig,r)):await ne(e.appConfig),a}}(e,s),s}return a}));return r?await r:a.authToken}function he(e){return oe(e,(e=>{if(!de(e))throw H.create("not-registered");var t;return 1===(t=e.authToken).requestStatus&&t.requestTime+j<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function de(e){return void 0!==e&&2===e.registrationStatus}function fe(e){return H.create("missing-app-config-values",{valueName:e})}const pe="installations";t._registerComponent(new h(pe,(e=>{var r=e.getProvider("app").getImmediate();return{app:r,appConfig:function(e){if(!e||!e.options)throw fe("App Configuration");if(!e.name)throw fe("App Name");for(const t of["projectId","apiKey","appId"])if(!e.options[t])throw fe(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(r),heartbeatServiceProvider:t._getProvider(r,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),t._registerComponent(new h("installations-internal",(e=>{var r=e.getProvider("app").getImmediate();const a=t._getProvider(r,pe).getImmediate();return{getId:()=>async function(e){var t=e;const{installationEntry:r,registrationPromise:a}=await ce(t);return(a||ge(t)).catch(console.error),r.fid}(a),getToken:e=>async function(e,t=!1){var r,a=e;return await((r=(await ce(a)).registrationPromise)&&await r),(await ge(a,t)).token}(a,e)}}),"PRIVATE")),t.registerVersion(O,N),t.registerVersion(O,N,"esm2017");const me="@firebase/remote-config";class ve{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}const we=new l("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"}),_e=["1","true","t","yes","y","on"];class ye{constructor(e,t=""){this._source=e,this._value=t}asString(){return this._value}asBoolean(){return"static"!==this._source&&0<=_e.indexOf(this._value.toLowerCase())}asNumber(){if("static"===this._source)return 0;let e=Number(this._value);return isNaN(e)&&(e=0),e}getSource(){return this._source}}async function be(e){const t=g(e);var[r,a]=await Promise.all([t._storage.getLastSuccessfulFetchResponse(),t._storage.getActiveConfigEtag()]);return!!(r&&r.config&&r.eTag&&r.eTag!==a)&&(await Promise.all([t._storageCache.setActiveConfig(r.config),t._storage.setActiveConfigEtag(r.eTag)]),!0)}function Se(e){const t=g(e);return t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then((()=>{t._isInitializationComplete=!0}))),t._initializePromise}async function Ee(e){const t=g(e),r=new ve;setTimeout((async()=>{r.abort()}),t.settings.fetchTimeoutMillis);try{await t._client.fetch({cacheMaxAgeMillis:t.settings.minimumFetchIntervalMillis,signal:r}),await t._storageCache.setLastFetchStatus("success")}catch(r){var a=(e=r)instanceof c&&-1!==e.code.indexOf("fetch-throttle")?"throttle":"failure";throw await t._storageCache.setLastFetchStatus(a),r}}function Ce(e,t){const r=g(e);r._isInitializationComplete||r._logger.debug(`A value was requested for key "${t}" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.`);var a=r._storageCache.getActiveConfig();return a&&void 0!==a[t]?new ye("remote",a[t]):r.defaultConfig&&void 0!==r.defaultConfig[t]?new ye("default",String(r.defaultConfig[t])):(r._logger.debug(`Returning static value for key "${t}". Define a default or remote value if this is unintentional.`),new ye("static"))}class Ie{constructor(e,t,r,a){this.client=e,this.storage=t,this.storageCache=r,this.logger=a}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-t,a=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${a}.`),a}async fetch(e){var[t,r]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(r&&this.isCachedDataFresh(e.cacheMaxAgeMillis,t))return r;e.eTag=r&&r.eTag,r=await this.client.fetch(e);const a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===r.status&&a.push(this.storage.setLastSuccessfulFetchResponse(r)),await Promise.all(a),r}}class Te{constructor(e,t,r,a,i,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=a,this.apiKey=i,this.appId=s}async fetch(e){var t,[r,a]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),i=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},a=(a={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:a,app_id:this.appId,language_code:(t=navigator).languages&&t.languages[0]||t.language},a={method:"POST",headers:s,body:JSON.stringify(a)},i=fetch(i,a),new Promise(((t,r)=>{e.signal.addEventListener((()=>{const e=new Error("The operation was aborted.");e.name="AbortError",r(e)}))})));let n;try{await Promise.race([i,a]),n=await i}catch(t){let e="fetch-client-network";throw"AbortError"===(null==t?void 0:t.name)&&(e="fetch-timeout"),we.create(e,{originalErrorMessage:null==t?void 0:t.message})}let o,c,l=n.status;if(i=n.headers.get("ETag")||void 0,200===n.status){let e;try{e=await n.json()}catch(t){throw we.create("fetch-client-parse",{originalErrorMessage:null==t?void 0:t.message})}o=e.entries,c=e.state}if("INSTANCE_STATE_UNSPECIFIED"===c?l=500:"NO_CHANGE"===c?l=304:"NO_TEMPLATE"!==c&&"EMPTY_CONFIG"!==c||(o={}),304!==l&&200!==l)throw we.create("fetch-status",{httpStatus:l});return{status:l,eTag:i,config:o}}}class Le{constructor(e,t){this.client=e,this.storage=t}async fetch(e){var t=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,t)}async attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var a,i;a=e.signal,i=t,await new Promise(((e,t)=>{var r=Math.max(i-Date.now(),0);const s=setTimeout(e,r);a.addEventListener((()=>{clearTimeout(s),t(we.create("fetch-throttle",{throttleEndTimeMillis:i}))}))}));try{var s=await this.client.fetch(e);return await this.storage.deleteThrottleMetadata(),s}catch(a){if(!function(e){if(e instanceof c&&e.customData){var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}}(a))throw a;var n={throttleEndTimeMillis:Date.now()+(t=2,s=1e3*Math.pow(t,r),n=Math.round(.5*s*(Math.random()-.5)*2),Math.min(144e5,s+n)),backoffCount:r+1};return await this.storage.setThrottleMetadata(n),this.attemptFetch(e,n)}}}class Me{constructor(e,t,r,a,i){this.app=e,this._client=t,this._storageCache=r,this._storage=a,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function De(e,t){var r=e.target.error||void 0;return we.create(t,{originalErrorMessage:r&&(null==r?void 0:r.message)})}const Fe="app_namespace_store";class Pe{constructor(e,t,r,a=function(){return new Promise(((e,t)=>{try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=e=>{t(De(e,"storage-open"))},r.onsuccess=t=>{e(t.target.result)},r.onupgradeneeded=e=>{const t=e.target.result;0===e.oldVersion&&t.createObjectStore(Fe,{keyPath:"compositeKey"})}}catch(e){t(we.create("storage-open",{originalErrorMessage:null==e?void 0:e.message}))}}))}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=a}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}async get(e){const t=await this.openDbPromise;return new Promise(((r,a)=>{const i=void 0,s=t.transaction([Fe],"readonly").objectStore(Fe);var n=this.createCompositeKey(e);try{const e=s.get(n);e.onerror=e=>{a(De(e,"storage-get"))},e.onsuccess=e=>{var t=e.target.result;r(t?t.value:void 0)}}catch(i){a(we.create("storage-get",{originalErrorMessage:null==i?void 0:i.message}))}}))}async set(e,t){const r=await this.openDbPromise;return new Promise(((a,i)=>{const s=r.transaction([Fe],"readwrite").objectStore(Fe);var n=this.createCompositeKey(e);try{const e=s.put({compositeKey:n,value:t});e.onerror=e=>{i(De(e,"storage-set"))},e.onsuccess=()=>{a()}}catch(a){i(we.create("storage-set",{originalErrorMessage:null==a?void 0:a.message}))}}))}async delete(e){const t=await this.openDbPromise;return new Promise(((r,a)=>{const i=t.transaction([Fe],"readwrite").objectStore(Fe);var s=this.createCompositeKey(e);try{const e=i.delete(s);e.onerror=e=>{a(De(e,"storage-delete"))},e.onsuccess=()=>{r()}}catch(r){a(we.create("storage-delete",{originalErrorMessage:null==r?void 0:r.message}))}}))}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class ke{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}async loadFromStorage(){var e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig();(e=await e)&&(this.lastFetchStatus=e),(t=await t)&&(this.lastSuccessfulFetchTimestampMillis=t),(r=await r)&&(this.activeConfig=r)}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}t._registerComponent(new h("remote-config",(function(e,{instanceIdentifier:a}){var i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw we.create("registration-window");if(!o())throw we.create("indexed-db-unavailable");var{projectId:n,apiKey:c,appId:l}=i.options;if(!n)throw we.create("registration-project-id");if(!c)throw we.create("registration-api-key");if(!l)throw we.create("registration-app-id");a=a||"firebase";const u=new Pe(l,i.name,a),g=new ke(u),h=new v(me);return h.logLevel=r.ERROR,l=new Te(s,t.SDK_VERSION,a,n,c,l),l=new Le(l,u),l=new Ie(l,u,g,h),Se(l=new Me(i,l,g,u,h)),l}),"PUBLIC").setMultipleInstances(!0)),t.registerVersion(me,"0.4.7"),t.registerVersion(me,"0.4.7","esm2017");class Oe{constructor(e,t){this.app=e,this._delegate=t}get defaultConfig(){return this._delegate.defaultConfig}set defaultConfig(e){this._delegate.defaultConfig=e}get fetchTimeMillis(){return this._delegate.fetchTimeMillis}get lastFetchStatus(){return this._delegate.lastFetchStatus}get settings(){return this._delegate.settings}set settings(e){this._delegate.settings=e}activate(){return be(this._delegate)}ensureInitialized(){return Se(this._delegate)}fetch(){return Ee(this._delegate)}fetchAndActivate(){return async function(e){return await Ee(e=g(e)),be(e)}(this._delegate)}getAll(){return function(e){const t=g(e);return[r={},a={}]=[t._storageCache.getActiveConfig(),t.defaultConfig],Object.keys(Object.assign(Object.assign({},r),a)).reduce(((t,r)=>(t[r]=Ce(e,r),t)),{});var r,a}(this._delegate)}getBoolean(e){return Ce(g(this._delegate),e).asBoolean()}getNumber(e){return Ce(g(this._delegate),e).asNumber()}getString(e){return Ce(g(this._delegate),e).asString()}getValue(e){return Ce(this._delegate,e)}setLogLevel(e){!function(e,t){const a=g(e);switch(t){case"debug":a._logger.logLevel=r.DEBUG;break;case"silent":a._logger.logLevel=r.SILENT;break;default:a._logger.logLevel=r.ERROR}}(this._delegate,e)}}($=n.default).INTERNAL.registerComponent(new h("remoteConfig-compat",(function(e,{instanceIdentifier:t}){var r=e.getProvider("app-compat").getImmediate(),a=e.getProvider("remote-config").getImmediate({identifier:t});return new Oe(r,a)}),"PUBLIC").setMultipleInstances(!0).setServiceProps({isSupported:async function(){if(!o())return!1;try{return await new Promise(((e,t)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(a);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(a),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}catch(e){return!1}}})),$.registerVersion("@firebase/remote-config-compat","0.2.7")}).apply(this,arguments)}catch(e){throw console.error(e),new Error("Cannot instantiate firebase-remote-config-compat.js - be sure to load firebase-app.js first.")}}));