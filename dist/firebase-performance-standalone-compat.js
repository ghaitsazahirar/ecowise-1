!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).firebase=t()}(this,(function(){"use strict";var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function r(e,t,n,r){return new(n=n||Promise)((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,(a=i?[2&a[0],i.value]:a)[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function o(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function s(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var c,u=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,c=i+2<e.length,u=(15&s)<<2|(l=c?e[i+2]:0)>>6,l=63&l;c||(l=64,a||(u=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[u],n[l])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i,o,a,s=e[n++];s<128?t[r++]=String.fromCharCode(s):191<s&&s<224?(o=e[n++],t[r++]=String.fromCharCode((31&s)<<6|63&o)):239<s&&s<365?(i=((7&s)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536,t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))):(o=e[n++],a=e[n++],t[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&a))}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,c=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==c)throw new f;r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==c&&r.push(s<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},f=(t(p,c=Error),p);function p(){var e=null!==c&&c.apply(this,arguments)||this;return e.name="DecodeBase64StringError",e}var h=function(e){return t=u(e),l.encodeByteArray(t,!0).replace(/\./g,"");var t};function d(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=d(e[n],t[n]));return e}var v=function(){var e;return null===(e=function(){try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||function(){if("undefined"!=typeof process&&void 0!==process.env){var e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!=typeof document){try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}var e=e&&function(e){try{return l.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(e[1]);return e&&JSON.parse(e)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}}())||void 0===e?void 0:e.config},g=(m.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},m);function m(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}function b(){return"object"==typeof self&&self.self===self}function y(){try{return"object"==typeof indexedDB}catch(e){return}}function _(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}var w,E=(t(I,w=Error),I);function I(e,t,n){var r=w.call(this,t)||this;return r.code=e,r.customData=n,r.name="FirebaseError",Object.setPrototypeOf(r,I.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,S.prototype.create),r}var S=(C.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,i=t[0]||{},o="".concat(this.service,"/").concat(e),a=(a=this.errors[e])?(r=i,a.replace(T,(function(e,t){var n=r[t];return null!=n?String(n):"<".concat(t,"?>")}))):"Error";return a="".concat(this.serviceName,": ").concat(a," (").concat(o,")."),new E(o,a,i)},C);function C(e,t,n){this.service=e,this.serviceName=t,this.errors=n}var T=/\{\$([^}]+)}/g;function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function O(e,t){if(e===t)return 1;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return;var s=e[a],c=t[a];if(D(s)&&D(c)){if(!O(s,c))return}else if(s!==c)return}for(var u=0,l=r;u<l.length;u++)if(a=l[u],!n.includes(a))return;return 1}function D(e){return null!==e&&"object"==typeof e}function N(e,t){var n=new P(e,t);return n.subscribe.bind(n)}var P=(k.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},k.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},k.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},k.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=M),void 0===r.error&&(r.error=M),void 0===r.complete&&(r.complete=M);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},k.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},k.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},k.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},k.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},k);function k(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}function M(){}var R=(L.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},L.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},L.prototype.setServiceProps=function(e){return this.serviceProps=e,this},L.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},L);function L(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}var B="[DEFAULT]",j=(F.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new g;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},F.prototype.getImmediate=function(e){var t=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}},F.prototype.getComponent=function(){return this.component},F.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:B})}catch(e){}try{for(var r=o(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var s=a(i.value,2),c=s[0],u=s[1],l=this.normalizeInstanceIdentifier(c);try{var f=this.getOrInitializeService({instanceIdentifier:l});u.resolve(f)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},F.prototype.clearInstance=function(e){this.instancesDeferred.delete(e=void 0===e?B:e),this.instancesOptions.delete(e),this.instances.delete(e)},F.prototype.delete=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(s(s([],a(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),!1),a(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()}))),!1))];case 1:return t.sent(),[2]}}))}))},F.prototype.isComponentSet=function(){return null!=this.component},F.prototype.isInitialized=function(e){return this.instances.has(e=void 0===e?B:e)},F.prototype.getOptions=function(e){return this.instancesOptions.get(e=void 0===e?B:e)||{}},F.prototype.initialize=function(e){var t,n,r=void 0===(r=(e=void 0===e?{}:e).options)?{}:r,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error("".concat(this.name,"(").concat(i,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var s=this.getOrInitializeService({instanceIdentifier:i,options:r});try{for(var c=o(this.instancesDeferred.entries()),u=c.next();!u.done;u=c.next()){var l=a(u.value,2),f=l[0],p=l[1];i===this.normalizeInstanceIdentifier(f)&&p.resolve(s)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return s},F.prototype.onInit=function(e,t){var n=this.normalizeInstanceIdentifier(t),r=null!==(i=this.onInitCallbacks.get(n))&&void 0!==i?i:new Set;r.add(e),this.onInitCallbacks.set(n,r);var i=this.instances.get(n);return i&&e(i,n),function(){r.delete(e)}},F.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var a=o(i),s=a.next();!s.done;s=a.next()){var c=s.value;try{c(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},F.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=void 0===(t=e.options)?{}:t;if(!(t=this.instances.get(n))&&this.component&&(t=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n)===B?void 0:e,options:r}),this.instances.set(n,t),this.instancesOptions.set(n,r),this.invokeOnInitCallbacks(t,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,t)}catch(e){}return t||null},F.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=B),!this.component||this.component.multipleInstances?e:B},F.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},F);function F(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}var x=(U.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)},U.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},U.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new j(e,this);return this.providers.set(e,t),t},U.prototype.getProviders=function(){return Array.from(this.providers.values())},U);function U(e){this.name=e,this.providers=new Map}var z,V=[];function H(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=K[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));console[o].apply(console,s(["[".concat(i,"]  ").concat(e.name,":")],n,!1))}}(rn=z=z||{})[rn.DEBUG=0]="DEBUG",rn[rn.VERBOSE=1]="VERBOSE",rn[rn.INFO=2]="INFO",rn[rn.WARN=3]="WARN",rn[rn.ERROR=4]="ERROR",rn[rn.SILENT=5]="SILENT";var q,W={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},$=z.INFO,K=((rt={})[z.DEBUG]="log",rt[z.VERBOSE]="log",rt[z.INFO]="info",rt[z.WARN]="warn",rt[z.ERROR]="error",rt),J=(Object.defineProperty(G.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in z))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e},enumerable:!1,configurable:!0}),G.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?W[e]:e},Object.defineProperty(G.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),G.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,s([this,z.DEBUG],e,!1)),this._logHandler.apply(this,s([this,z.DEBUG],e,!1))},G.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,s([this,z.VERBOSE],e,!1)),this._logHandler.apply(this,s([this,z.VERBOSE],e,!1))},G.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,s([this,z.INFO],e,!1)),this._logHandler.apply(this,s([this,z.INFO],e,!1))},G.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,s([this,z.WARN],e,!1)),this._logHandler.apply(this,s([this,z.WARN],e,!1))},G.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,s([this,z.ERROR],e,!1)),this._logHandler.apply(this,s([this,z.ERROR],e,!1))},G);function G(e){this.name=e,this._logLevel=$,this._logHandler=H,this._userLogHandler=null,V.push(this)}const Y=(e,t)=>t.some((t=>e instanceof t));let X,Z;const Q=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakMap,re=new WeakMap;let ie={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ee.get(e);if("objectStoreNames"===t)return e.objectStoreNames||te.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oe(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function oe(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(oe(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Q.set(t,e)})).catch((()=>{})),re.set(t,e),t}(e);if(ne.has(e))return ne.get(e);var t=function(e){return"function"==typeof e?function(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Z=Z||[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]).includes(e)?function(...t){return e.apply(ae(this),t),oe(Q.get(this))}:function(...t){return oe(e.apply(ae(this),t))}:function(t,...n){var r=e.call(ae(this),t,...n);return te.set(r,t.sort?t.sort():[t]),oe(r)}}(e):(e instanceof IDBTransaction&&(t=e,ee.has(t)||(n=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{e(),r()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)})),ee.set(t,n))),Y(e,X=X||[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])?new Proxy(e,ie):e);var t,n}(e);return t!==e&&(ne.set(e,t),re.set(t,e)),t}const ae=e=>re.get(e);function se(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=oe(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(oe(a.result),e.oldVersion,e.newVersion,oe(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}const ce=["get","getKey","getAll","getAllKeys","count"],ue=["put","add","delete","clear"],le=new Map;function fe(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t){if(le.get(t))return le.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,i=ue.includes(e);if(e in(r?IDBIndex:IDBObjectStore).prototype&&(i||ce.includes(e))){var n=async function(t,...n){var o=this.transaction(t,i?"readwrite":"readonly");let a=o.store;return r&&(a=a.index(n.shift())),(await Promise.all([a[e](...n),i&&o.done]))[0]};return le.set(t,n),n}}}ie={...q=ie,get:(e,t,n)=>fe(e,t)||q.get(e,t,n),has:(e,t)=>!!fe(e,t)||q.has(e,t)};var pe=(he.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if("VERSION"!==(null==(t=e.getComponent())?void 0:t.type))return null;var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)})).filter((function(e){return e})).join(" ")},he);function he(e){this.container=e}var de="@firebase/app",ve="0.10.5",ge=new J("@firebase/app"),me="[DEFAULT]",be=((Ae={})[de]="fire-core",Ae["@firebase/app-compat"]="fire-core-compat",Ae["@firebase/analytics"]="fire-analytics",Ae["@firebase/analytics-compat"]="fire-analytics-compat",Ae["@firebase/app-check"]="fire-app-check",Ae["@firebase/app-check-compat"]="fire-app-check-compat",Ae["@firebase/auth"]="fire-auth",Ae["@firebase/auth-compat"]="fire-auth-compat",Ae["@firebase/database"]="fire-rtdb",Ae["@firebase/database-compat"]="fire-rtdb-compat",Ae["@firebase/functions"]="fire-fn",Ae["@firebase/functions-compat"]="fire-fn-compat",Ae["@firebase/installations"]="fire-iid",Ae["@firebase/installations-compat"]="fire-iid-compat",Ae["@firebase/messaging"]="fire-fcm",Ae["@firebase/messaging-compat"]="fire-fcm-compat",Ae["@firebase/performance"]="fire-perf",Ae["@firebase/performance-compat"]="fire-perf-compat",Ae["@firebase/remote-config"]="fire-rc",Ae["@firebase/remote-config-compat"]="fire-rc-compat",Ae["@firebase/storage"]="fire-gcs",Ae["@firebase/storage-compat"]="fire-gcs-compat",Ae["@firebase/firestore"]="fire-fst",Ae["@firebase/firestore-compat"]="fire-fst-compat",Ae["@firebase/vertexai-preview"]="fire-vertex",Ae["fire-js"]="fire-js",Ae.firebase="fire-js-all",Ae),ye=new Map,_e=new Map,we=new Map;function Ee(e,t){try{e.container.addComponent(t)}catch(n){ge.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ie(e,t){e.container.addOrOverwriteComponent(t)}function Se(e){var t,n,r,i,a=e.name;if(we.has(a))return ge.debug("There were multiple attempts to register component ".concat(a,".")),!1;we.set(a,e);try{for(var s=o(ye.values()),c=s.next();!c.done;c=s.next())Ee(c.value,e)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}try{for(var u=o(_e.values()),l=u.next();!l.done;l=u.next())Ee(l.value,e)}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return!0}function Ce(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Te(e){return void 0!==e.options}var Ae=((rt={})["no-app"]="No Firebase App '{$appName}' has been created - call initializeApp() first",rt["bad-app-name"]="Illegal App name: '{$appName}'",rt["duplicate-app"]="Firebase App named '{$appName}' already exists with different options or config",rt["app-deleted"]="Firebase App named '{$appName}' already deleted",rt["server-app-deleted"]="Firebase Server App has been deleted",rt["no-options"]="Need to provide options, when not being deployed to hosting via source.",rt["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",rt["invalid-log-argument"]="First argument to `onLog` must be null or a function.",rt["idb-open"]="Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",rt["idb-get"]="Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",rt["idb-set"]="Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",rt["idb-delete"]="Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",rt["finalization-registry-not-supported"]="FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",rt["invalid-server-app-environment"]="FirebaseServerApp is not for use in browser environments.",rt),Oe=new S("app","Firebase",Ae),De=(Object.defineProperty(Ne.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(Ne.prototype,"name",{get:function(){return this.checkDestroyed(),this._name},enumerable:!1,configurable:!0}),Object.defineProperty(Ne.prototype,"options",{get:function(){return this.checkDestroyed(),this._options},enumerable:!1,configurable:!0}),Object.defineProperty(Ne.prototype,"config",{get:function(){return this.checkDestroyed(),this._config},enumerable:!1,configurable:!0}),Object.defineProperty(Ne.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),Object.defineProperty(Ne.prototype,"isDeleted",{get:function(){return this._isDeleted},set:function(e){this._isDeleted=e},enumerable:!1,configurable:!0}),Ne.prototype.checkDestroyed=function(){if(this.isDeleted)throw Oe.create("app-deleted",{appName:this._name})},Ne);function Ne(e,t,r){var i=this;this._isDeleted=!1,this._options=n({},e),this._config=n({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new R("app",(function(){return i}),"PUBLIC"))}var Pe,ke=(t(Me,Pe=De),Me.prototype.toJSON=function(){},Object.defineProperty(Me.prototype,"refCount",{get:function(){return this._refCount},enumerable:!1,configurable:!0}),Me.prototype.incRefCount=function(e){this.isDeleted||(this._refCount++,void 0!==e&&this._finalizationRegistry.register(e,this))},Me.prototype.decRefCount=function(){return this.isDeleted?0:--this._refCount},Me.prototype.automaticCleanup=function(){Be(this)},Object.defineProperty(Me.prototype,"settings",{get:function(){return this.checkDestroyed(),this._serverConfig},enumerable:!1,configurable:!0}),Me.prototype.checkDestroyed=function(){if(this.isDeleted)throw Oe.create("server-app-deleted")},Me);function Me(e,t,r,i){var o=this,a=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,s={name:r,automaticDataCollectionEnabled:a};return(o=void 0!==e.apiKey?Pe.call(this,e,s,i)||this:Pe.call(this,e.options,s,i)||this)._serverConfig=n({automaticDataCollectionEnabled:a},t),o._finalizationRegistry=new FinalizationRegistry((function(){o.automaticCleanup()})),o._refCount=0,o.incRefCount(o._serverConfig.releaseOnDeref),o._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,je(de,ve,"serverapp"),o}var Re="10.12.2";function Le(e,t){var r,i,a=e,s=n({name:me,automaticDataCollectionEnabled:!1},t="object"!=typeof(t=void 0===t?{}:t)?{name:t}:t),c=s.name;if("string"!=typeof c||!c)throw Oe.create("bad-app-name",{appName:String(c)});if(!(a=a||v()))throw Oe.create("no-options");var u=ye.get(c);if(u){if(O(a,u.options)&&O(s,u.config))return u;throw Oe.create("duplicate-app",{appName:c})}var l=new x(c);try{for(var f=o(we.values()),p=f.next();!p.done;p=f.next()){var h=p.value;l.addComponent(h)}}catch(e){r={error:e}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return s=new De(a,s,l),ye.set(c,s),s}function Be(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return t=!1,n=e.name,ye.has(n)?(t=!0,ye.delete(n)):_e.has(n)&&e.decRefCount()<=0&&(_e.delete(n),t=!0),t?[4,Promise.all(e.container.getProviders().map((function(e){return e.delete()})))]:[3,2];case 1:r.sent(),e.isDeleted=!0,r.label=2;case 2:return[2]}}))}))}function je(e,t,n){var r=null!==(a=be[e])&&void 0!==a?a:e;n&&(r+="-".concat(n));var i=r.match(/\s|\//),o=t.match(/\s|\//);if(i||o){var a=['Unable to register library "'.concat(r,'" with version "').concat(t,'":')];return i&&a.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),i&&o&&a.push("and"),o&&a.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ge.warn(a.join(" "))}Se(new R("".concat(r,"-version"),(function(){return{library:r,version:t}}),"VERSION"))}function Fe(e,t){if(null!==e&&"function"!=typeof e)throw Oe.create("invalid-log-argument");!function(e,t){for(var n=0,r=V;n<r.length;n++)!function(n){var r=null;t&&t.level&&(r=W[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:z[n].toLowerCase(),message:a,args:i,type:t.name})}}(r[n])}(e,t)}function xe(e){var t;t=e,V.forEach((function(e){e.setLogLevel(t)}))}var Ue="firebase-heartbeat-database",ze=1,Ve="firebase-heartbeat-store",He=null;function qe(){return He=He||se(Ue,ze,{upgrade:function(e,t){if(0===t)try{e.createObjectStore(Ve)}catch(e){console.warn(e)}}}).catch((function(e){throw Oe.create("idb-open",{originalErrorMessage:e.message})}))}function We(e,t){return r(this,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,qe()];case 1:return r=i.sent(),[4,(n=r.transaction(Ve,"readwrite")).objectStore(Ve).put(t,$e(e))];case 2:return i.sent(),[4,n.done];case 3:return i.sent(),[3,5];case 4:return(r=i.sent())instanceof E||(r=Oe.create("idb-set",{originalErrorMessage:null==r?void 0:r.message})),ge.warn(r.message),[3,5];case 5:return[2]}}))}))}function $e(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ke=(Je.prototype.triggerHeartbeat=function(){var e;return r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return t=(t=this.container.getProvider("platform-logger").getImmediate()).getPlatformInfoString(),n=Ge(),null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)?[3,2]:[4,(r=this)._heartbeatsCachePromise];case 1:if(r._heartbeatsCache=i.sent(),null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))return[2];i.label=2;case 2:return this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some((function(e){return e.date===n}))?[2]:(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),[2,this._storage.overwrite(this._heartbeatsCache)])}}))}))},Je.prototype.getHeartbeatsHeader=function(){var e;return r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return null!==this._heartbeatsCache?[3,2]:[4,this._heartbeatsCachePromise];case 1:i.sent(),i.label=2;case 2:return null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length?[2,""]:(t=Ge(),n=function(e,t){var n,r;void 0===t&&(t=1024);var i=[],a=e.slice();try{for(var s=o(e),c=s.next();!c.done&&"break"!==function(e){var n=i.find((function(t){return t.agent===e.agent}));if(n){if(n.dates.push(e.date),Ze(i)>t)return n.dates.pop(),"break"}else if(i.push({agent:e.agent,dates:[e.date]}),Ze(i)>t)return i.pop(),"break";a=a.slice(1)}(c.value);c=s.next());}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return{heartbeatsToSend:i,unsentEntries:a}}(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,n=n.unsentEntries,r=h(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,0<n.length?(this._heartbeatsCache.heartbeats=n,[4,this._storage.overwrite(this._heartbeatsCache)]):[3,4]);case 3:return i.sent(),[3,5];case 4:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache),i.label=5;case 5:return[2,r]}}))}))},Je);function Je(e){var t=this;this.container=e,this._heartbeatsCache=null;var n=this.container.getProvider("app").getImmediate();this._storage=new Ye(n),this._heartbeatsCachePromise=this._storage.read().then((function(e){return t._heartbeatsCache=e}))}function Ge(){return(new Date).toISOString().substring(0,10)}var Ye=(Xe.prototype.runIndexedDBEnvironmentCheck=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){return y()?[2,_().then((function(){return!0})).catch((function(){return!1}))]:[2,!1]}))}))},Xe.prototype.read=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return t.sent()?[3,2]:[2,{heartbeats:[]}];case 2:return[4,function(e){return r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,qe()];case 1:return r=i.sent(),[4,(t=r.transaction(Ve)).objectStore(Ve).get($e(e))];case 2:return n=i.sent(),[4,t.done];case 3:return i.sent(),[2,n];case 4:return(r=i.sent())instanceof E||(r=Oe.create("idb-get",{originalErrorMessage:null==r?void 0:r.message})),ge.warn(r.message),[3,5];case 5:return[2]}}))}))}(this.app)];case 3:return null!=(e=t.sent())&&e.heartbeats?[2,e]:[2,{heartbeats:[]}];case 4:return[2]}}))}))},Xe.prototype.overwrite=function(e){var t;return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return r.sent()?[3,2]:[2];case 2:return[4,this.read()];case 3:return n=r.sent(),[2,We(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})]}}))}))},Xe.prototype.add=function(e){var t;return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return r.sent()?[3,2]:[2];case 2:return[4,this.read()];case 3:return n=r.sent(),[2,We(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:s(s([],a(n.heartbeats),!1),a(e.heartbeats),!1)})]}}))}))},Xe);function Xe(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}function Ze(e){return h(JSON.stringify({version:2,heartbeats:e})).length}Se(new R("platform-logger",(function(e){return new pe(e)}),"PRIVATE")),Se(new R("heartbeat",(function(e){return new Ke(e)}),"PRIVATE")),je(de,ve,""),je(de,ve,"esm5"),je("fire-js","");var Qe=Object.freeze({__proto__:null,SDK_VERSION:Re,_DEFAULT_ENTRY_NAME:me,_addComponent:Ee,_addOrOverwriteComponent:Ie,_apps:ye,_clearComponents:function(){we.clear()},_components:we,_getProvider:Ce,_isFirebaseApp:Te,_isFirebaseServerApp:function(e){return void 0!==e.settings},_registerComponent:Se,_removeServiceInstance:function(e,t,n){void 0===n&&(n=me),Ce(e,t).clearInstance(n)},_serverApps:_e,deleteApp:Be,getApp:function(e){var t=ye.get(e=void 0===e?me:e);if(!t&&e===me&&v())return Le();if(!t)throw Oe.create("no-app",{appName:e});return t},getApps:function(){return Array.from(ye.values())},initializeApp:Le,initializeServerApp:function(e,t){var r,i;if(b())throw Oe.create("invalid-server-app-environment");void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1);var c=Te(e)?e.options:e;if(void 0!==(u=n(n({},t),c)).releaseOnDeref&&delete u.releaseOnDeref,void 0!==t.releaseOnDeref&&"undefined"==typeof FinalizationRegistry)throw Oe.create("finalization-registry-not-supported",{});var u,l=""+s([],a(JSON.stringify(u)),!1).reduce((function(e,t){return Math.imul(31,e)+t.charCodeAt(0)|0}),0);if(u=_e.get(l))return u.incRefCount(t.releaseOnDeref),u;var f=new x(l);try{for(var p=o(we.values()),h=p.next();!h.done;h=p.next()){var d=h.value;f.addComponent(d)}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}return c=new ke(c,t,l,f),_e.set(l,c),c},onLog:Fe,registerVersion:je,setLogLevel:xe,FirebaseError:E}),et=(Object.defineProperty(tt.prototype,"automaticDataCollectionEnabled",{get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(tt.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(tt.prototype,"options",{get:function(){return this._delegate.options},enumerable:!1,configurable:!0}),tt.prototype.delete=function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Be(e._delegate)}))},tt.prototype._getService=function(e,t){var n;void 0===t&&(t=me),this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},tt.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=me),this._delegate.container.getProvider(e).clearInstance(t)},tt.prototype._addComponent=function(e){Ee(this._delegate,e)},tt.prototype._addOrOverwriteComponent=function(e){Ie(this._delegate,e)},tt.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},tt);function tt(e,t){var n=this;this._delegate=e,this.firebase=t,Ee(e,new R("app-compat",(function(){return n}),"PUBLIC")),this.container=e.container}(rt={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",rt["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.";var nt=new S("app-compat","Firebase",Ae=rt),rt=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(r,i){void 0===i&&(i={});var o=Le(r,i);if(A(t,o.name))return t[o.name];var a=new e(o,n);return t[o.name]=a},app:r,registerVersion:je,setLogLevel:xe,onLog:Fe,apps:null,SDK_VERSION:Re,INTERNAL:{registerComponent:function(t){var i,o=t.name,a=o.replace("-compat","");return Se(t)&&"PUBLIC"===t.type&&(i=function(e){if("function"!=typeof(e=void 0===e?r():e)[a])throw nt.create("invalid-app-argument",{appName:o});return e[a]()},void 0!==t.serviceProps&&d(i,t.serviceProps),n[a]=i,e.prototype[a]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}),"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"!==t?t:null},modularAPIs:Qe}};function r(e){if(!A(t,e=e||me))throw nt.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),r.App=e,n}(et);return t.INTERNAL=n(n({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){d(t,e)},createSubscribe:N,ErrorFactory:S,deepExtend:d}),t}();Ae=new J("@firebase/app-compat"),b()&&void 0!==self.firebase&&(Ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "),(ot=self.firebase.SDK_VERSION)&&0<=ot.indexOf("LITE")&&Ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    "));var it=rt;je("@firebase/app-compat","0.2.35",void 0),it.registerVersion("firebase","10.12.2","app-compat");var ot="@firebase/installations",at=1e4,st="w:".concat(Ae="0.6.7"),ct="FIS_v2",ut="https://firebaseinstallations.googleapis.com/v1",lt=((rt={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',rt["not-registered"]="Firebase Installation is not registered.",rt["installation-not-found"]="Firebase Installation not found.",rt["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',rt["app-offline"]="Could not process request. Application offline.",rt["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",new S("installations","Installations",rt));function ft(e){return e instanceof E&&e.code.includes("request-failed")}function pt(e){var t=e.projectId;return"".concat(ut,"/projects/").concat(t,"/installations")}function ht(e){return{token:e.token,requestStatus:2,expiresIn:(e=e.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()}}function dt(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return[4,t.json()];case 1:return n=(n=r.sent()).error,[2,lt.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})]}}))}))}function vt(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function gt(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return 500<=(t=n.sent()).status&&t.status<600?[2,e()]:[2,t]}}))}))}function mt(e){return new Promise((function(t){setTimeout(t,e)}))}var bt=/^[cdef][\w-]{21}$/,yt="";function _t(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return btoa(String.fromCharCode.apply(String,s([],a(e),!1))).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22);return bt.test(t)?t:yt}catch(e){return yt}}function wt(e){return"".concat(e.appName,"!").concat(e.appId)}var Et=new Map;function It(e,t){var n=wt(e);St(n,t),function(e,t){var n=(!Ct&&"BroadcastChannel"in self&&((Ct=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){St(e.data.key,e.data.fid)}),Ct);n&&n.postMessage({key:e,fid:t}),0===Et.size&&Ct&&(Ct.close(),Ct=null)}(n,t)}function St(e,t){var n,r,i=Et.get(e);if(i)try{for(var a=o(i),s=a.next();!s.done;s=a.next())(0,s.value)(t)}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}var Ct=null,Tt="firebase-installations-store",At=null;function Ot(){return At=At||se("firebase-installations-database",1,{upgrade:function(e,t){0===t&&e.createObjectStore(Tt)}})}function Dt(e,t){return r(this,void 0,void 0,(function(){var n,r,o,a;return i(this,(function(i){switch(i.label){case 0:return n=wt(e),[4,Ot()];case 1:return o=i.sent(),r=o.transaction(Tt,"readwrite"),[4,(o=r.objectStore(Tt)).get(n)];case 2:return a=i.sent(),[4,o.put(t,n)];case 3:return i.sent(),[4,r.done];case 4:return i.sent(),a&&a.fid===t.fid||It(e,t.fid),[2,t]}}))}))}function Nt(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return t=wt(e),[4,Ot()];case 1:return[4,(n=(n=r.sent()).transaction(Tt,"readwrite")).objectStore(Tt).delete(t)];case 2:return r.sent(),[4,n.done];case 3:return r.sent(),[2]}}))}))}function Pt(e,t){return r(this,void 0,void 0,(function(){var n,r,o,a,s;return i(this,(function(i){switch(i.label){case 0:return n=wt(e),[4,Ot()];case 1:return o=i.sent(),r=o.transaction(Tt,"readwrite"),[4,(o=r.objectStore(Tt)).get(n)];case 2:return a=i.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return i.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:i.sent(),i.label=6;case 6:return[4,r.done];case 7:return i.sent(),!s||a&&a.fid===s.fid||It(e,s.fid),[2,s]}}))}))}function kt(e){return r(this,void 0,void 0,(function(){var t,n,o;return i(this,(function(a){switch(a.label){case 0:return[4,Pt(e.appConfig,(function(n){var o=Rt(n||{fid:_t(),registrationStatus:0});return o=function(e,t){if(0!==t.registrationStatus)return 1===t.registrationStatus?{installationEntry:t,registrationPromise:function(e){return r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return[4,Mt(e.appConfig)];case 1:t=i.sent(),i.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,mt(100)];case 3:return i.sent(),[4,Mt(e.appConfig)];case 4:return t=i.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,kt(e)];case 6:return r=i.sent(),n=r.installationEntry,(r=r.registrationPromise)?[2,r]:[2,n];case 7:return[2,t]}}))}))}(e)}:{installationEntry:t};if(!navigator.onLine)return{installationEntry:t,registrationPromise:o=Promise.reject(lt.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},o=function(e,t){return r(this,void 0,void 0,(function(){var n,o;return i(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,7]),[4,function(e,t){var n=e.appConfig,o=e.heartbeatServiceProvider,a=t.fid;return r(this,void 0,void 0,(function(){var e,t,r,s,c,u;return i(this,(function(i){switch(i.label){case 0:return e=pt(n),t=vt(n),(r=o.getImmediate({optional:!0}))?[4,r.getHeartbeatsHeader()]:[3,2];case 1:(r=i.sent())&&t.append("x-firebase-client",r),i.label=2;case 2:return u={fid:a,authVersion:ct,appId:n.appId,sdkVersion:st},s={method:"POST",headers:t,body:JSON.stringify(u)},[4,gt((function(){return fetch(e,s)}))];case 3:return(c=i.sent()).ok?[4,c.json()]:[3,5];case 4:return[2,{fid:(u=i.sent()).fid||a,registrationStatus:2,refreshToken:u.refreshToken,authToken:ht(u.authToken)}];case 5:return[4,dt("Create Installation",c)];case 6:throw i.sent()}}))}))}(e,t)];case 1:return n=a.sent(),[2,Dt(e.appConfig,n)];case 2:return ft(o=a.sent())&&409===o.customData.serverCode?[4,Nt(e.appConfig)]:[3,4];case 3:return a.sent(),[3,6];case 4:return[4,Dt(e.appConfig,{fid:t.fid,registrationStatus:0})];case 5:a.sent(),a.label=6;case 6:throw o;case 7:return[2]}}))}))}(e,n);return{installationEntry:n,registrationPromise:o}}(e,o),t=o.registrationPromise,o.installationEntry}))];case 1:return(n=a.sent()).fid!==yt?[3,3]:(o={},[4,t]);case 2:return[2,(o.installationEntry=a.sent(),o)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function Mt(e){return Pt(e,(function(e){if(!e)throw lt.create("installation-not-found");return Rt(e)}))}function Rt(e){return 1===(t=e).registrationStatus&&t.registrationTime+at<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function Lt(e,t){var n=e.appConfig,o=e.heartbeatServiceProvider;return r(this,void 0,void 0,(function(){var e,r,a,s,c,u;return i(this,(function(i){switch(i.label){case 0:return l=t.fid,e="".concat(pt(n),"/").concat(l,"/authTokens:generate"),r=function(e,t){var n=t.refreshToken,r=vt(e);return r.append("Authorization",(e=n,"".concat(ct," ").concat(e))),r}(n,t),(a=o.getImmediate({optional:!0}))?[4,a.getHeartbeatsHeader()]:[3,2];case 1:(a=i.sent())&&r.append("x-firebase-client",a),i.label=2;case 2:return u={installation:{sdkVersion:st,appId:n.appId}},s={method:"POST",headers:r,body:JSON.stringify(u)},[4,gt((function(){return fetch(e,s)}))];case 3:return(c=i.sent()).ok?[4,c.json()]:[3,5];case 4:return[2,ht(u=i.sent())];case 5:return[4,dt("Generate Auth Token",c)];case 6:throw i.sent()}var l}))}))}function Bt(e,t){return void 0===t&&(t=!1),r(this,void 0,void 0,(function(){var o,a,s;return i(this,(function(c){switch(c.label){case 0:return[4,Pt(e.appConfig,(function(a){if(!Ft(a))throw lt.create("not-registered");var s,c=a.authToken;if(t||2!==(s=c).requestStatus||function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(s)){if(1===c.requestStatus)return o=function(e,t){return r(this,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return[4,jt(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,mt(100)];case 3:return i.sent(),[4,jt(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Bt(e,t)]:[2,r]}}))}))}(e,t),a;if(!navigator.onLine)throw lt.create("app-offline");return s=a,c={requestStatus:1,requestTime:Date.now()},c=n(n({},s),{authToken:c}),o=function(e,t){return r(this,void 0,void 0,(function(){var r,o,a;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,8]),[4,Lt(e,t)];case 1:return r=i.sent(),a=n(n({},t),{authToken:r}),[4,Dt(e.appConfig,a)];case 2:return i.sent(),[2,r];case 3:return!ft(o=i.sent())||401!==o.customData.serverCode&&404!==o.customData.serverCode?[3,5]:[4,Nt(e.appConfig)];case 4:return i.sent(),[3,7];case 5:return a=n(n({},t),{authToken:{requestStatus:0}}),[4,Dt(e.appConfig,a)];case 6:i.sent(),i.label=7;case 7:throw o;case 8:return[2]}}))}))}(e,c),c}return a}))];case 1:return a=c.sent(),o?[4,o]:[3,3];case 2:return s=c.sent(),[3,4];case 3:s=a.authToken,c.label=4;case 4:return[2,s]}}))}))}function jt(e){return Pt(e,(function(e){if(!Ft(e))throw lt.create("not-registered");var t;return 1===(t=e.authToken).requestStatus&&t.requestTime+at<Date.now()?n(n({},e),{authToken:{requestStatus:0}}):e}))}function Ft(e){return void 0!==e&&2===e.registrationStatus}function xt(e){return lt.create("missing-app-config-values",{valueName:e})}var Ut="installations";Se(new R(Ut,(function(e){var t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw xt("App Configuration");if(!e.name)throw xt("App Name");try{for(var r=o(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var a=i.value;if(!e.options[a])throw xt(a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),heartbeatServiceProvider:Ce(t,"heartbeat"),_delete:function(){return Promise.resolve()}}}),"PUBLIC")),Se(new R("installations-internal",(function(e){var t=Ce(e.getProvider("app").getImmediate(),Ut).getImmediate();return{getId:function(){return function(e){return r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return[4,kt(t=e)];case 1:return n=i.sent(),r=n.installationEntry,(n.registrationPromise||Bt(t)).catch(console.error),[2,r.fid]}}))}))}(t)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),r(this,void 0,void 0,(function(){var n;return i(this,(function(o){switch(o.label){case 0:return[4,function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,kt(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}(n=e)];case 1:return o.sent(),[4,Bt(n,t)];case 2:return[2,o.sent().token]}}))}))}(t,e)}}}),"PRIVATE")),je(ot,Ae),je(ot,Ae,"esm5");var zt,Vt,Ht="@firebase/performance",qt="0.6.7",Wt=qt,$t="FB-PERF-TRACE-MEASURE",Kt="@firebase/performance/config",Jt="@firebase/performance/configexpire",Gt=(ot="Performance",(Ae={})["trace started"]="Trace {$traceName} was started before.",Ae["trace stopped"]="Trace {$traceName} is not running.",Ae["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Ae["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Ae["no window"]="Window is not available.",Ae["no app id"]="App id is not available.",Ae["no project id"]="Project id is not available.",Ae["no api key"]="Api key is not available.",Ae["invalid cc log"]="Attempted to queue invalid cc event",Ae["FB not default"]="Performance can only start when Firebase app instance is the default one.",Ae["RC response not ok"]="RC response is not ok",Ae["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Ae["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Ae["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Ae["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Ae["already initialized"]="initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance.",new S("performance",ot,Ae)),Yt=new J(ot);Yt.logLevel=z.INFO;var Xt,Zt,Qt=(en.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},en.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},en.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},en.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},en.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},en.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},en.prototype.requiredApisAvailable=function(){return fetch&&Promise&&"undefined"!=typeof navigator&&navigator.cookieEnabled?!!y()||(Yt.info("IndexedDB is not supported by current browser"),!1):(Yt.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},en.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}})).observe({entryTypes:[e]})},en.getInstance=function(){return zt=void 0===zt?new en(Vt):zt},en);function en(e){if(!(this.window=e))throw Gt.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}function tn(e,t){var n=e.length-t.length;if(n<0||1<n)throw Gt.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var nn,rn,on=(an.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},an.getInstance=function(){return Zt=void 0===Zt?new an:Zt},an);function an(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=tn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=tn("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}(rn=nn=nn||{})[rn.UNKNOWN=0]="UNKNOWN",rn[rn.VISIBLE=1]="VISIBLE",rn[rn.HIDDEN=2]="HIDDEN";var sn=["firebase_","google_","ga_"],cn=new RegExp("^[a-zA-Z]\\w*$");function un(){switch(Qt.getInstance().document.visibilityState){case"visible":return nn.VISIBLE;case"hidden":return nn.HIDDEN;default:return nn.UNKNOWN}}function ln(e){var t=null===(t=e.options)||void 0===t?void 0:t.appId;if(!t)throw Gt.create("no app id");return t}var fn="0.0.1",pn={loggingEnabled:!0},hn="FIREBASE_INSTALLATIONS_AUTH",dn="Could not fetch config, will use default configs";function vn(e){if(!e)return e;var t=on.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=pn.loggingEnabled,n.fpr_log_source?t.logSource=Number(n.fpr_log_source):pn.logSource&&(t.logSource=pn.logSource),n.fpr_log_endpoint_url?t.logEndPointUrl=n.fpr_log_endpoint_url:pn.logEndPointUrl&&(t.logEndPointUrl=pn.logEndPointUrl),n.fpr_log_transport_key?t.transportKey=n.fpr_log_transport_key:pn.transportKey&&(t.transportKey=pn.transportKey),void 0!==n.fpr_vc_network_request_sampling_rate?t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):void 0!==pn.networkRequestsSamplingRate&&(t.networkRequestsSamplingRate=pn.networkRequestsSamplingRate),void 0!==n.fpr_vc_trace_sampling_rate?t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):void 0!==pn.tracesSamplingRate&&(t.tracesSamplingRate=pn.tracesSamplingRate),t.logTraceAfterSampling=gn(t.tracesSamplingRate),t.logNetworkAfterSampling=gn(t.networkRequestsSamplingRate),e}function gn(e){return Math.random()<=e}var mn,bn=1;function yn(e){var t;return bn=2,mn=mn||(t=e,function(){var e=Qt.getInstance().document;return new Promise((function(t){var n;e&&"complete"!==e.readyState?(n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())},e.addEventListener("readystatechange",n)):t()}))}().then((function(){return(e=t.installations.getId()).then((function(e){Xt=e})),e;var e})).then((function(e){return function(e,t){var n,r,i=function(){var e=Qt.getInstance().localStorage;if(e){var t=e.getItem(Jt);if(t&&function(e){return Number(e)>Date.now()}(t)&&(e=e.getItem(Kt)))try{return JSON.parse(e)}catch(e){return}}}();return i?(vn(i),Promise.resolve()):(r=t,function(e){var t=e.getToken();return t.then((function(e){})),t}((n=e).installations).then((function(e){var t=function(e){var t=null===(t=e.options)||void 0===t?void 0:t.projectId;if(!t)throw Gt.create("no project id");return t}(n.app),i=function(e){var t=null===(t=e.options)||void 0===t?void 0:t.apiKey;if(!t)throw Gt.create("no api key");return t}(n.app);return i="https://firebaseremoteconfig.googleapis.com/v1/projects/".concat(t,"/namespaces/fireperf:fetch?key=").concat(i),i=new Request(i,{method:"POST",headers:{Authorization:"".concat(hn," ").concat(e)},body:JSON.stringify({app_instance_id:r,app_instance_id_token:e,app_id:ln(n.app),app_version:Wt,sdk_version:fn})}),fetch(i).then((function(e){if(e.ok)return e.json();throw Gt.create("RC response not ok")}))})).catch((function(){Yt.info(dn)})).then(vn).then((function(e){var t;t=Qt.getInstance().localStorage,e&&t&&(t.setItem(Kt,JSON.stringify(e)),t.setItem(Jt,String(Date.now()+60*on.getInstance().configTimeToLive*60*1e3)))}),(function(){})))}(t,e)})).then(_n,_n))}function _n(){bn=3}var wn,En=1e4,In=3,Sn=[],Cn=!1;function Tn(e){setTimeout((function(){var e,t;if(0!==In)return Sn.length?(t=(e=Sn.splice(0,1e3)).map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}})),void function(e,t){return function(e){var t=on.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||Yt.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=En;isNaN(n)||(r=Math.max(n,r)),n=e.logResponseDetails,Array.isArray(n)&&0<n.length&&"RETRY_REQUEST_LATER"===n[0].responseAction&&(Sn=s(s([],t,!0),Sn,!0),Yt.info("Retry transport request later.")),In=3,Tn(r)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:on.getInstance().logSource,log_event:t},e).catch((function(){Sn=s(s([],e,!0),Sn,!0),In--,Yt.info("Tries left: ".concat(In,".")),Tn(En)}))):Tn(En)}),e)}function An(e,t){(wn=wn||function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];!function(e){if(!e.eventTime||!e.message)throw Gt.create("invalid cc log");Sn=s(s([],Sn,!0),[e],!1)}({message:e.apply(void 0,t),eventTime:Date.now()})}}(Nn))(e,t)}function On(e){var t=on.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&Qt.getInstance().requiredApisAvailable()&&(e.isAuto&&un()!==nn.VISIBLE||(3===bn?Dn(e):yn(e.performanceController).then((function(){return Dn(e)}),(function(){return Dn(e)}))))}function Dn(e){var t;!Xt||(t=on.getInstance()).loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return An(e,1)}),0)}function Nn(e,t){return 0===t?(n={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:Pn(e.performanceController.app),network_request_metric:n},JSON.stringify(n)):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();return 0!==Object.keys(n).length&&(t.custom_attributes=n),t={application_info:Pn(e.performanceController.app),trace_metric:t},JSON.stringify(t)}(e);var n}function Pn(e){return{google_app_id:ln(e),app_instance_id:Xt,web_app_info:{sdk_version:Wt,page_url:Qt.getInstance().getUrl(),service_worker_status:null!=(t=Qt.getInstance().navigator)&&t.serviceWorker?t.serviceWorker.controller?2:3:1,visibility_state:un(),effective_connection_type:function(){var e=Qt.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0};var t}var kn=["_fp","_fcp","_fid"],Mn=(Rn.prototype.start=function(){if(1!==this.state)throw Gt.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},Rn.prototype.stop=function(){if(2!==this.state)throw Gt.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),On(this)},Rn.prototype.record=function(e,t,r){if(e<=0)throw Gt.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Gt.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),r&&r.attributes&&(this.customAttributes=n({},r.attributes)),r&&r.metrics)for(var i=0,o=Object.keys(r.metrics);i<o.length;i++){var a=o[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Math.floor(Number(r.metrics[a])))}On(this)},Rn.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},Rn.prototype.putMetric=function(e,t){if(r=e,i=this.name,0===r.length||100<r.length||!(i&&i.startsWith("_wt_")&&-1<kn.indexOf(r))&&r.startsWith("_"))throw Gt.create("invalid custom metric name",{customMetricName:e});var n,r,i;this.counters[e]=(t=null!=t?t:0,(n=Math.floor(t))<t&&Yt.info("Metric value should be an Integer, setting the value as : ".concat(n,".")),n)},Rn.prototype.getMetric=function(e){return this.counters[e]||0},Rn.prototype.putAttribute=function(e,t){var n,r,i=!(0===(n=e).length||40<n.length||sn.some((function(e){return n.startsWith(e)}))||!n.match(cn)),o=0!==(r=t).length&&r.length<=100;if(i&&o)this.customAttributes[e]=t;else{if(!i)throw Gt.create("invalid attribute name",{attributeName:e});if(!o)throw Gt.create("invalid attribute value",{attributeValue:t})}},Rn.prototype.getAttribute=function(e){return this.customAttributes[e]},Rn.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},Rn.prototype.getAttributes=function(){return n({},this.customAttributes)},Rn.prototype.setStartTime=function(e){this.startTimeUs=e},Rn.prototype.setDuration=function(e){this.durationUs=e},Rn.prototype.calculateTraceMetrics=function(){var e;(e=(e=this.api.getEntriesByName(this.traceMeasure))&&e[0])&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},Rn.createOobTrace=function(e,t,n,r){var i,o=Qt.getInstance().getUrl();o&&(i=new Rn(e,"_wt_"+o,!0),o=Math.floor(1e3*Qt.getInstance().getTimeOrigin()),i.setStartTime(o),t&&t[0]&&(i.setDuration(Math.floor(1e3*t[0].duration)),i.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),i.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),i.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),n&&((o=n.find((function(e){return"first-paint"===e.name})))&&o.startTime&&i.putMetric("_fp",Math.floor(1e3*o.startTime)),(o=n.find((function(e){return"first-contentful-paint"===e.name})))&&o.startTime&&i.putMetric("_fcp",Math.floor(1e3*o.startTime)),r&&i.putMetric("_fid",Math.floor(1e3*r))),On(i))},Rn.createUserTimingTrace=function(e,t){On(new Rn(e,t,!1,t))},Rn);function Rn(e,t,n,r){void 0===n&&(n=!1),this.performanceController=e,this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=Qt.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="".concat("FB-PERF-TRACE-START","-").concat(this.randomId,"-").concat(this.name),this.traceStopMark="".concat("FB-PERF-TRACE-STOP","-").concat(this.randomId,"-").concat(this.name),this.traceMeasure=r||"".concat($t,"-").concat(this.randomId,"-").concat(this.name),r&&this.calculateTraceMetrics())}function Ln(e,t){var n,r,i,o,a=t;a&&void 0!==a.responseStart&&(i=Qt.getInstance().getTimeOrigin(),o=Math.floor(1e3*(a.startTime+i)),r=a.responseStart?Math.floor(1e3*(a.responseStart-a.startTime)):void 0,i=Math.floor(1e3*(a.responseEnd-a.startTime)),a={performanceController:e,url:a.name&&a.name.split("?")[0],responsePayloadBytes:a.transferSize,startTimeUs:o,timeToResponseInitiatedUs:r,timeToResponseCompletedUs:i},n=a,(o=on.getInstance()).instrumentationEnabled&&(r=n.url,i=o.logEndPointUrl.split("?")[0],a=o.flTransportEndpointUrl.split("?")[0],r!==i&&r!==a&&o.loggingEnabled&&o.logNetworkAfterSampling&&setTimeout((function(){return An(n,0)}),0)))}function Bn(e){Xt&&(setTimeout((function(){return function(e){var t,n=Qt.getInstance(),r=n.getEntriesByType("navigation"),i=n.getEntriesByType("paint");n.onFirstInputDelay?(t=setTimeout((function(){Mn.createOobTrace(e,r,i),t=void 0}),5e3),n.onFirstInputDelay((function(n){t&&(clearTimeout(t),Mn.createOobTrace(e,r,i,n))}))):Mn.createOobTrace(e,r,i)}(e)}),0),setTimeout((function(){return function(e){for(var t=Qt.getInstance(),n=0,r=t.getEntriesByType("resource");n<r.length;n++){var i=r[n];Ln(e,i)}t.setupObserver("resource",(function(t){return Ln(e,t)}))}(e)}),0),setTimeout((function(){return function(e){for(var t=Qt.getInstance(),n=0,r=t.getEntriesByType("measure");n<r.length;n++){var i=r[n];jn(e,i)}t.setupObserver("measure",(function(t){return jn(e,t)}))}(e)}),0))}function jn(e,t){var n=t.name;n.substring(0,$t.length)!==$t&&Mn.createUserTimingTrace(e,n)}var Fn=(xn.prototype._init=function(e){var t=this;this.initialized||(void 0!==(null==e?void 0:e.dataCollectionEnabled)&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==(null==e?void 0:e.instrumentationEnabled)&&(this.instrumentationEnabled=e.instrumentationEnabled),Qt.getInstance().requiredApisAvailable()?_().then((function(e){e&&(Cn||(Tn(5500),Cn=!0),yn(t).then((function(){return Bn(t)}),(function(){return Bn(t)})),t.initialized=!0)})).catch((function(e){Yt.info("Environment doesn't support IndexedDB: ".concat(e))})):Yt.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))},Object.defineProperty(xn.prototype,"instrumentationEnabled",{get:function(){return on.getInstance().instrumentationEnabled},set:function(e){on.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(xn.prototype,"dataCollectionEnabled",{get:function(){return on.getInstance().dataCollectionEnabled},set:function(e){on.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),xn);function xn(e,t){this.app=e,this.installations=t,this.initialized=!1}Se(new R("performance",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==r.name)throw Gt.create("FB not default");if("undefined"==typeof window)throw Gt.create("no window");return Vt=window,(i=new Fn(r,i))._init(n),i}),"PUBLIC")),je(Ht,qt),je(Ht,qt,"esm5");var Un,zn=(Object.defineProperty(Vn.prototype,"instrumentationEnabled",{get:function(){return this._delegate.instrumentationEnabled},set:function(e){this._delegate.instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(Vn.prototype,"dataCollectionEnabled",{get:function(){return this._delegate.dataCollectionEnabled},set:function(e){this._delegate.dataCollectionEnabled=e},enumerable:!1,configurable:!0}),Vn.prototype.trace=function(e){return t=(n=t=this._delegate)&&n._delegate?n._delegate:n,new Mn(t,e);var t,n},Vn);function Vn(e,t){this.app=e,this._delegate=t}return(Un=it).INTERNAL.registerComponent(new R("performance-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("performance").getImmediate();return new zn(t,n)}),"PUBLIC")),Un.registerVersion("@firebase/performance-compat","0.2.7"),it.registerVersion("firebase","10.12.2","compat-lite"),it}));